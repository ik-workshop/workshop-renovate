{"value":{"url":"https://github.com/lycheeverse/lychee-action/releases/v1.2.1","notesSourceUrl":"https://api.github.com/repos/lycheeverse/lychee-action/releases","id":59000002,"tag":"v1.2.1","name":"Version 1.2.1","body":"#### Fix evaluating glob patterns\n\nGlob patterns were not properly evaluated for three reasons:\n\n1.  Quotes around globs were not preserved. As a result, unquoted wildcards were evaluated by bash instead of lychee\n2.  `**` patterns handled by the [glob](https://github.com/rust-lang-nursery/glob) crate need to be prefixed with a separator, e.g. `./`. See code [here](https://github.com/rust-lang-nursery/glob/blob/master/src/lib.rs#L536) and [here](https://github.com/rust-lang-nursery/glob/blob/337d417ee872dc04e8e6faff4b7379141933df59/src/lib.rs#L583-L596). We should probably switch to [globset](https://github.com/BurntSushi/globset) at some point, which doesn't have that limitation.\n3.  The lychee command itself needs to be executed with `eval` to make it find links. Otherwise it interprets the input argument (`${ARGS[@]}`) as a string and tries to find links within that string. (String input is supported by lychee). We want to interpret it as individual (whitespace-separated) arguments however. (Note that Github Actions doesn't support arrays as inputs, which prevents us from using array splitting.)\n\n**Recommended usage inside pipelines: Surround glob patterns with single quotes and prefix them with `./`.**\n\n```yaml\n- name: Link Checker\n  uses: lycheeverse/lychee-action@v1.1.1\n  with:\n### Check all Markdown and HTML files\n    args: --verbose --no-progress './**/*.md' './**/*.html'\n```\n\nFor more context, see [#67](https://github.com/lycheeverse/lychee-action/issues/67) and [#68](https://github.com/lycheeverse/lychee-action/issues/68).\nThe examples have been updated accordingly.\n"},"expiry":"2022-02-13T16:01:11.701+00:00"}